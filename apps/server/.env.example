# Observer Server Environment Variables

# Database URL (automatically set by Railway PostgreSQL addon)
# Development: postgresql+asyncpg://localhost/observer
# Production: Set by Railway
DATABASE_URL=

# Redis URL (automatically set by Railway Redis addon)
# Development: redis://localhost:6379
# Production: Set by Railway
REDIS_URL=

# Secret key for JWT tokens (REQUIRED in production)
# Generate with: python -c 'import secrets; print(secrets.token_urlsafe(32))'
SECRET_KEY=

# API key for simple authentication (single-user mode)
# Generate with: python -c 'import secrets; print(secrets.token_urlsafe(32))'
# Leave empty to disable authentication (development only)
API_KEY=

# CORS allowed origins (comma-separated)
# Development defaults:
#   - http://localhost:5173 (web dev server)
#   - http://localhost:5174 (desktop dev server)
#   - http://localhost:3000 (alternative dev port)
# Production: Add your actual Railway/deployment URLs
#   Example: https://your-web-app.railway.app,https://your-desktop-app.railway.app
# Note: CORS does not support wildcards - each origin must be explicit
ALLOWED_ORIGINS_STR=http://localhost:5173,http://localhost:5174,http://localhost:3000

# Anthropic API key for Claude (REQUIRED)
# Get from: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=sk-ant-api03-xxxxx

# Claude model to use
# Default: claude-sonnet-4-20250514
CLAUDE_MODEL=claude-sonnet-4-20250514

# OpenAI API key (optional, for embeddings)
OPENAI_API_KEY=

# Application environment
# Values: development, production
ENVIRONMENT=development

# Debug mode (enable detailed logging)
# Values: true, false
DEBUG=false

# Agent Suggester Configuration
# Pattern detection lookback window (days)
AGENT_LOOKBACK_DAYS=3

# Minimum occurrences for app sequence patterns
AGENT_MIN_SEQUENCE_OCCURRENCES=2

# Minimum occurrences for time-based patterns
AGENT_MIN_TIME_PATTERN_OCCURRENCES=3

# Minimum frequency for context switch patterns
AGENT_MIN_SWITCH_FREQUENCY=5

# Session Tracking Configuration
# Time gap (minutes) to consider as session boundary (30+ minutes = new session)
SESSION_BREAK_MINUTES=30

# Time gap (minutes) to consider as short break (5-30 minutes)
SHORT_BREAK_MINUTES=5

# Minimum session duration (minutes) to be tracked
MIN_SESSION_MINUTES=5
